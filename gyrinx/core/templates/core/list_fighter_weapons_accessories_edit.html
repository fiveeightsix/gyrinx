{% extends "core/layouts/base.html" %}
{% load allauth custom_tags %}
{% block head_title %}
    Accessories - {{ form.instance.content_equipment.name }} - {{ fighter.fully_qualified_name }} - {{ list.name }}
{% endblock head_title %}
{% block content %}
    {% url 'core:list-fighter-weapons-edit' list.id fighter.id as back_url %}
    {% include "core/includes/back.html" with url=back_url %}
    <div class="col-lg-12 px-0 vstack gap-3">
        <h1 class="h3">Accessories: {{ form.instance.content_equipment.name }} - {{ fighter.fully_qualified_name }}</h1>
        <div class="text-secondary">
            <div class="mb-2">
                <strong>Weapon:</strong> {{ form.instance.content_equipment.name }}
            </div>
            <div class="mb-3">
                <strong>Base Cost:</strong> {{ form.instance.base_cost_display }}
            </div>
        </div>
        <form action="{% url 'core:list-fighter-weapon-accessories-edit' list.id fighter.id form.instance.id %}"
              method="post">
            {% csrf_token %}
            <div class="mb-2">
                <label class="form-label">Accessories</label>
                <div class="small text-secondary mb-2">
                    <i class="icon icon-info-circle"></i>
                    <span data-bs-toggle="tooltip"
                          data-bs-placement="top"
                          title="Some accessories have calculated costs based on the weapon's base cost">
                        Costs shown may be calculated based on weapon cost
                    </span>
                </div>
            </div>
            {{ form }}
            <div class="mt-3">
                <button type="submit" class="btn btn-primary">Save</button>
                <a href="{{ back_url }}" class="btn btn-link">Cancel</a>
            </div>
        </form>
    </div>
{% endblock content %}
