{% load allauth custom_tags %}
{% comment %}Filter component for fighter skills.{% endcomment %}
<form id="search-skills"
      method="get"
      action="{{ action }}#search"
      class="row">
    <div class="col-12 col-lg-6 mb-2 mb-lg-0">
        <input type="hidden" name="flash" value="search">
        <input type="hidden" name="cb" value="{% cachebuster %}">
        <div class="input-group">
            <span class="input-group-text">
                <i class="bi-search"></i>
            </span>
            <input class="form-control"
                   type="search"
                   placeholder="Search skills"
                   aria-label="Search skills"
                   name="q"
                   value="{{ request.GET.q }}">
            <button class="btn btn-primary" type="submit">Search</button>
            {% if request.GET.q %}
                <a href="?cb={% cachebuster %}&{% qt_rm request "q" "flash" %}#search"
                   class="btn btn-outline-secondary">Clear</a>
            {% endif %}
        </div>
    </div>
    <div class="col-12 col-lg-6 mb-2 mb-lg-0 align-items-center">
        <div class="row justify-content-between align-items-center">
            <div class="col-auto">
                <div class="form-check form-check-inline mb-0">
                    <input class="form-check-input"
                           type="radio"
                           name="category_filter"
                           id="primary-secondary-only"
                           value="primary-secondary-only"
                           data-gy-toggle-submit="search-skills"
                           {% if request.GET.category_filter == "primary-secondary-only" %}checked{% endif %}>
                    <label class="form-check-label mb-0" for="primary-secondary-only">Primary/Secondary Only</label>
                </div>
                <div class="form-check form-check-inline mb-0">
                    <input class="form-check-input"
                           type="radio"
                           name="category_filter"
                           id="all"
                           value="all"
                           data-gy-toggle-submit="search-skills"
                           {% if request.GET.category_filter == "all" %}checked{% endif %}>
                    <label class="form-check-label mb-0" for="all">All</label>
                </div>
                <div class="form-check form-check-inline mb-0">
                    <input class="form-check-input"
                           type="radio"
                           name="category_filter"
                           id="all-with-restricted"
                           value="all-with-restricted"
                           data-gy-toggle-submit="search-skills"
                           {% if request.GET.category_filter == "all-with-restricted" %}checked{% endif %}>
                    <label class="form-check-label mb-0" for="all-with-restricted">All + Restricted</label>
                </div>
            </div>
            <div class="col-auto btn-group align-items-center">
                <button class="btn btn-link icon-link btn-sm"
                        type="submit"
                        id="update-filters">
                    <i class="bi-arrow-clockwise"></i>
                    Update
                </button>
                â€¢
                <a class="btn btn-link text-secondary icon-link btn-sm"
                   href="?cb={% cachebuster %}#search">Reset</a>
            </div>
        </div>
    </div>
</form>
